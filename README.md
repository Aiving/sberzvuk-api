# «СберЗвук» API

Данная библиотека предназначена для упрощения взаимодействия с API музыкальной платформы «СберЗвук» (или же просто «Звук»).

> :warning: **Использование библиотеки невозможно без токена**. Есть два способа его получить:

1. Статический метод `getAnonymousToken`. Не требует какой-либо авторизации, однако имеет некоторые ограничения (вроде отсутствия доступа к 320kbps версиям треков).
2. Самостоятельно [зарегистроваться или войти](https://zvuk.com) после чего перейти [сюда](https://zvuk.com/api/tiny/profile), скопировать значение поля `token` и указать при создании класса.

Как только токен будет получен, можно начинать использовать библиотеку.

## Установка

### `npm`

```bash
npm i sberzvuk-api
```

### `yarn`

```bash
yarn add sberzvuk-api
```

## Методы

> :warning: Все методы - асинхронные.

### `search(query: string, limit?: number)`

Ищет исполнителей, треки, альбомы и плейлисты.
Значение по умолчанию для `limit` - 10.

### `getTrack(id: number | number[], withArtists?: boolean, withRelease?: boolean)`

Получает полную информацию о треке (или треках), включая исполнителей и альбом (опционально).
Значение по умолчанию для `withArtists` и `withRelease` - false.

### `getStreamURL(trackId: number | number[], quality?: Quality)`

Получает ссылку на MP3-файл(-ы).
По умолчанию автоматически выбирает самое высокое качество из доступных, однако вы можете это изменить, напрямую указав желаемое качество в параметре `quality`.

> :warning: В случае отсутствия платной подписки на Звуке попытка получить файл высокого качества выдаст ошибку.

### `getPlaylist(id: number | number[])`

Получает информацию об плейлисте (или плейлистах) и треках в нём.

### `getAlbum(id: number | number[], withArtists?: boolean, withTracks?: boolean)`

Получает полную информацию об альбоме (или альбомах), включая исполнителей и треки (опционально).
Значение по умолчанию для `withArtists` и `withTracks` - false.
