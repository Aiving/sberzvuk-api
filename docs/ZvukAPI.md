# ZvukAPI

## Конструктор

Аргументы:

1. `token`: `string` - токен пользователя.
2. `axiosOptions`: [`CreateAxiosDefaults`](https://axios-http.com/docs/config_defaults) - объект с конфигурация для [`axiosInstance`](#свойства).

> :warning: Все свойства - приватные, а методы - асинхронные.

## Свойства

-   `token`: `string` - указанный при создании класса токен.
-   `axiosInstance`: [`AxiosInstance`](https://axios-http.com/docs/instance) - экземпляр `axios` с заранее указанными заголовками, используемый всеми методами.

## Статические методы

<h3 id="get-anonymous-token"><code>getAnonymousToken</code></h3>

Используется для получения анонимного токена.

Возвращается: `string` - токен.

## Методы

<h3 id="quick-search"><code>quickSearch</code></h3>

Используется для быстрого поиска.

Аргументы:

1. [ \* ] `query`: `string` - запрос.
2. [ ? ] `limit`: `number` - лимит на количество результатов. Значение по умолчанию - `10`.

Возвращается: `(PartialArtist | PartialAlbum | PartialTrack | PartialPlaylist)[]`.

---

<h3 id="get-stream-url"><code>getStreamUrl</code></h3>

Используется для получения ссылок на MP3-файлы треков.

Аргументы:

1. [ \* ] `trackId`: `number | number[]` - целочисленный идентификатор трека, либо массив из них.
2. [ ? ] `quality`: [`Quality`](./Quality.md) - желамое качество файлов.

Возможные ошибки:

-   `ReferenceError` - может возникнуть при попытке получить MP3-файл высокого качества (т. е. указывается аргумент `quality` со значением [`Quality.High`](./Quality.md#high)). Зачастую это означет, что у обладателя указанного токена отсутствует подписка.

Возвращается: массив ссылок на файлы.

---

<h3 id="get-track"><code>getTrack</code></h3>

Используется для получения данных об треке (или треках).

Аргументы:

1. [ \* ] `trackId`: `number | number[]` - целочисленный идентификатор трека, либо массив из них.

Возвращается: [`Track[]`](./objects/Track.md) - массив треков.

---

<h3 id="get-playlist"><code>getPlaylist</code></h3>

Используется для получения данных об плейлисте (или плейлистах).

Аргументы:

1. [ \* ] `playlistId`: `number | number[]` - целочисленный идентификатор плейлиста, либо массив из них.

Возвращается: [`Playlist[]`](./objects/Playlist.md) - массив плейлистов.

---

<h3 id="get-album"><code>getAlbum</code></h3>

Используется для получения данных об альбоме (или альбомах).

Аргументы:

1. [ \* ] `albumId`: `number | number[]` - целочисленный идентификатор альбома, либо массив из них.

Возвращается: [`Album[]`](./objects/Album.md) - массив альбомов.

## Примечания

-   Помимо количества получаемых результатов, есть также главное отличие между методами `quickSearch` и `search`. И заключается оно в точности. Так, например, выполнив следующий код в консоли...

```typescript
const data = await api.search('pyro');

console.log(data.artists);
```

... вы не увидите среди результатов поиска `pyrokinesis`. Зато увидите множество исполнителей (скорее всего вам неизвестных) с ником `Pyro`. То есть метод `search` предназначен для точечного поиска чего-либо, а `quickSearch` для поиска "с подсказками".

Однако это не значит, что вам следует постоянно использовать `quickSearch`, так как он плохо справляется с точечными запросами (о чём чуть выше и было сказано). В качестве примера - следующий код...

```typescript
const data = await api.quickSearch('дворцовый');

console.log(data);
```

... вам вообще ничего не выдаст. Лишь пустой массив.

Поэтому, решая какой из этих методов использовать, ориентируйтесь на то, **для чего** нужно их использовать. Для быстрого поиска? `quickSearch`. Для точечного? `search`, очевидно.
